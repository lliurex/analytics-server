var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};function get_time(){return(Date.now?Date.now():(new Date).getTime())/1E3}
function put_elements(a){$("#loading").remove();$("#send").show();$("#configure_whitelist").show();var c={out:$('select[name="denied"]'),"in":$('select[name="accepted"]'),unk:$('select[name="nonselected"]')},e=0;if(void 0!=a){if(!(a.hasOwnProperty("out")&&a.hasOwnProperty("in")&&a.hasOwnProperty("unk")))return;for(var d=$jscomp.makeIterator(["out","in","unk"]),b=d.next();!b.done;b=d.next()){b=b.value;Array.isArray(a[b])||(a[b]=[a[b]]);for(var f=0;f<a[b].length;f++)e++,c[b].append('<option value"'+
a[b][f]+'">'+a[b][f]+"</option>")}}put_triggers();console.log(e+" elements included")}
function move_to(a,c){var e="",d="",b="",f=get_time();"left"==a?(b=$("#nonwhitelist>select>option:selected"),e=$("#nonwhitelist>select")):"center"==a?(b=$("#unknown_state_whitelist>select>option:selected"),e=$("#unknown_state_whitelist>select")):"right"==a&&(b=$("#inwhitelist>select>option:selected"),e=$("#inwhitelist>select"));"left"==c?d=$("#nonwhitelist>select"):"center"==c?d=$("#unknown_state_whitelist>select"):"right"==c&&(d=$("#inwhitelist>select"));if(""==e||""==d||""==b)return!1;b.each(function(){$("this").removeAttr("selected")});
d.append(b);b.each(function(){$("this").remove()});console.log("Move in: "+(get_time()-f).toFixed(3))}function get_items(){var a={out:[],into:[]};$("#nonwhitelist>select>option").each(function(){a.out.push($(this).val())});$("#inwhitelist>select>option").each(function(){a.into.push($(this).val())});return a}
function send_items(){var a=get_items();$.post("PutWhitelist",{status:JSON.stringify(a)},function(c){c=c.toLowerCase();"ok"==c?alert("Sending succeded"):alert("Sending succeded but result was Nok, "+c)}).fail(function(c){console.log(c);alert("Error sending ajax requests")})}
function get_dbitems(){$("#configure_whitelist").hide();$("#send").hide();$("body").append('<div id="loading"></div>');var a=get_time();$.getJSON("GetWhitelistItems",function(c){var e=get_time();console.log("Get time: "+(e-a).toFixed(3));put_elements(c);console.log("Put time: "+(get_time()-e).toFixed(3))}).fail(function(c){alert("Can't fetch whitelist data")})}
function filter(a){a=$(this).val().trim().toLowerCase();var c=!1,e=get_time();""!=a&&(c=!0);var d=$(this).parent().next().find("option");for(var b=0;b<d.length;b++){var f=!0;c&&(f=d[b].value.toLowerCase().includes(a));f?$(d[b]).show():$(d[b]).hide()}console.log("Filter in: "+(get_time()-e).toFixed(3))}
function put_triggers(){var a=get_time();$("#btnleft_to_left").click(function(){move_to("center","left")});$("#btnleft_to_center").click(function(){move_to("left","center")});$("#btnright_to_right").click(function(){move_to("center","right")});$("#btnright_to_center").click(function(){move_to("right","center")});$("#send_btn").click(send_items);$(".filter>textarea").on("change keyup paste",filter);console.log("Put triggers in: "+(get_time()-a).toFixed(3))}function start(){get_dbitems()};
function put_elements(a){$("#loading").remove();$("#send").show();$("#configure_whitelist").show();if(void 0!=a){if(!(a.hasOwnProperty("out")&&a.hasOwnProperty("in")&&a.hasOwnProperty("unk")))return;for(var b=0;b<a.out.length;b++)$('select[name="denied"]').append('<option value="'+a.out[b]+'">'+a.out[b]+"</option>");for(b=0;b<a["in"].length;b++)$('select[name="accepted"]').append('<option value="'+a["in"][b]+'">'+a["in"][b]+"</option>");for(b=0;b<a.unk.length;b++)$('select[name="nonselected"]').append('<option value="'+
a.unk[b]+'">'+a.unk[b]+"</option>")}put_triggers()}
function move_to(a,b){var d="",c="",e="";"left"==a?(e=$("#nonwhitelist>select>option:selected"),d=$("#nonwhitelist>select")):"center"==a?(e=$("#unknown_state_whitelist>select>option:selected"),d=$("#unknown_state_whitelist>select")):"right"==a&&(e=$("#inwhitelist>select>option:selected"),d=$("#inwhitelist>select"));"left"==b?c=$("#nonwhitelist>select"):"center"==b?c=$("#unknown_state_whitelist>select"):"right"==b&&(c=$("#inwhitelist>select"));if(""==d||""==c||""==e)return!1;c.append(e);e.each(function(){$("this").remove()});
$("#configure_whitelist option:selected").removeAttr("selected")}function get_items(){var a={out:[],into:[]};$("#nonwhitelist>select>option").each(function(){a.out.push($(this).val())});$("#inwhitelist>select>option").each(function(){a.into.push($(this).val())});return a}
function send_items(){var a=get_items();$.post("PutWhitelist",{status:JSON.stringify(a)},function(a){a=a.toLowerCase();"ok"==a?alert("Sending succeded"):alert("Sending succeded but result was Nok, "+a)}).fail(function(a){console.log(a);alert("Error sending ajax requests")})}
function get_dbitems(){$("#configure_whitelist").hide();$("#send").hide();$("body").append('<div id="loading"></div>');$.getJSON("GetWhitelistItems",function(a){put_elements(a)}).fail(function(a){alert("Can't fetch whitelist data")})}function filter(a){a=$(this).val().trim().toLowerCase();var b=!1;""!=a&&(b=!0);var d=$(this).parent().next().find("option");for(var c=0;c<d.length;c++){var e=!0;b&&(e=d[c].value.toLowerCase().includes(a));e?$(d[c]).show():$(d[c]).hide()}}
function put_triggers(){$("#btnleft_to_left").click(function(){move_to("center","left")});$("#btnleft_to_center").click(function(){move_to("left","center")});$("#btnright_to_right").click(function(){move_to("center","right")});$("#btnright_to_center").click(function(){move_to("right","center")});$("#send_btn").click(send_items);$(".filter>textarea").on("change keyup paste",filter)}function start(){get_dbitems()};
